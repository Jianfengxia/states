Pillar
======

.. include:: /doc/include/add_pillar.inc

- :doc:`/nginx/doc/index` :doc:`/nginx/doc/pillar`

Mandatory
---------

Example::

  rabbitmq:
    cluster:
      master: node-1
      cookie: xxx
      nodes:
        node-1:
          private: 192.168.1.1
          public: 20.168.1.1
        node-2:
          private: 192.168.1.2
          public: 20.168.1.2
    monitor:
      user: monitor
      password: xxx
    management:
      user: admin
      password: xxx
    hostnames:
      - rmq.example.com

.. _pillar-rabbitmq-cluster-master:

rabbitmq:cluster:master
~~~~~~~~~~~~~~~~~~~~~~~

Master node ID.

.. _pillar-rabbitmq-cluster-cookie:

rabbitmq:cluster:cookie
~~~~~~~~~~~~~~~~~~~~~~~

Random string used as the :doc:`/erlang/doc/index` cookie.

.. _pillar-rabbitmq-cluster-nodes:

rabbitmq:cluster:nodes
~~~~~~~~~~~~~~~~~~~~~~

Dict of {node: {subkey: subvalue}} which contains data needed for a node in
cluster.

.. _pillar-rabbitmq-cluster-nodes-nodeid-private:

rabbitmq:cluster:nodes:{{ node id }}:private
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

IP/Hostname in LAN of :doc:`index` node.

.. _pillar-rabbitmq-cluster-nodes-nodeid-public:

rabbitmq:cluster:nodes:{{ node id }}:public
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

IP/Hostname reachable from Internet of :doc:`index` node.

.. _pillar-rabbitmq-monitor-user:

rabbitmq:monitor:user
~~~~~~~~~~~~~~~~~~~~~

Username used to perform monitoring check.

.. _pillar-rabbitmq-management-user:

rabbitmq:management:user
~~~~~~~~~~~~~~~~~~~~~~~~

Username used to perform management trough Web UI.
Never use ``guest`` as it's a default :doc:`index` user that is removed for
security reasons.

.. _pillar-rabbitmq-hostnames:

rabbitmq:hostnames
~~~~~~~~~~~~~~~~~~

List of hostnames that :doc:`index` management console is reachable.

Optional
--------

Example::

  rabbitmq:
    ssl: example.com
    vhosts:
      vhostname: vhostpassword

.. _pillar-rabbitmq-ssl:

rabbitmq:ssl
~~~~~~~~~~~~

.. include:: /nginx/doc/ssl.inc

.. _pillar-rabbitmq-ssl_redirect:

rabbitmq:ssl_redirect
~~~~~~~~~~~~~~~~~~~~~

.. include:: /nginx/doc/ssl_redirect.inc

.. _pillar-rabbitmq-management-password:

rabbitmq:management:password
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Password used to perform management through Web UI.

Default: automatically generated by :doc:`/salt/doc/index` (``None``).

.. _pillar-rabbitmq-monitor-password:

rabbitmq:monitor:password
~~~~~~~~~~~~~~~~~~~~~~~~~

Password used to perform monitoring check.

Default: automatically generated by :doc:`/salt/doc/index` (``None``).

.. _pillar-rabbitmq-vhosts:

rabbitmq:vhosts
~~~~~~~~~~~~~~~

Dict of {'vhostname': 'password'} of all :doc:`index` virtual hosts.

Default: Not creating any new virtual host (``{}``).
