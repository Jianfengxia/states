# {{ pillar['message_do_not_modify'] }}

{#-
 GitLab user. git by default
#}
user: git

{#- 
Url to gitlab instance. Used for api calls. Should end with a slash.
#}
{%- if salt['pillar.get']('gitlab:ssl', False) %}
gitlab_url: "https://{{ salt['pillar.get']('gitlab:hostnames')[0] }}/"
{%- else %}
gitlab_url: "http://{{ salt['pillar.get']('gitlab:hostnames')[0] }}/"
{%- endif %}

http_settings:
{#-
  user: someone
  password: somepass
  ca_file: /etc/ssl/cert.pem
  ca_path: /etc/pki/tls/certs
#}
  self_signed_cert: false

{#-
 Repositories path
 REPOS_PATH MUST NOT BE A SYMLINK!!!
#}
repos_path: "{{ repos_dir }}"

{#- 
File used as authorized_keys for gitlab user
#}
auth_file: "/home/git/.ssh/authorized_keys"

{#-
Redis settings used for pushing commit notices to gitlab
#}
redis:
  bin: /usr/bin/redis-cli
  host: 127.0.0.1
  port: {{ salt['pillar.get']('redis:port', 6379) }}
  {#- socket: /tmp/redis.socket # Only define this if you want to use sockets #}
  namespace: resque:gitlab

{#-
 Log file.
 Default is gitlab-shell.log in the root directory.
#}
log_file: "{{ shell_dir }}/gitlab-shell.log"

{#-
 Log level. INFO by default
#}
log_level: DEBUG

{#-
 Audit usernames.
 Set to true to see real usernames in the logs instead of key ids, which is easier to follow, but
 incurs an extra API call on every gitlab-shell command.
#}
audit_usernames: false
