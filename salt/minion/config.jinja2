{#-
Use of this source code is governed by a BSD license that can be found
in the doc/license.rst file.

Author: Bruno Clermont <bruno@robotinfra.com>
Maintainer: Viet Hung Nguyen <hvn@robotinfra.com>
-#}
# {{ salt['pillar.get']('message_do_not_modify') }}

{%- if salt['pillar.get']('salt:master', False) %}
master: {{ salt['pillar.get']('salt:master', False) }}
{%- else %}{# master-less #}
file_roots:
  base:
    - /srv/salt/states
pillar_roots:
  base:
    - /srv/salt/pillar
{%- endif %}
id: {{ grains['id'] }}

{%- if salt['pillar.get']('shinken_pollers', []) %}
mine_functions:
  monitoring.data: []
{%- endif %}

{%- if salt['pillar.get']('sentry_dsn', False) %}
sentry_common: {{ salt['pillar.get']('sentry_dsn', False) }}
sentry_handler:
  dsn: requests+{{ salt['pillar.get']('sentry_dsn', False) }}
{%- endif %}
