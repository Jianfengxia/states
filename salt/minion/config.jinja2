{#-
Use of this source code is governed by a BSD license that can be found
in the doc/license.rst file.

-#}
# {{ salt['pillar.get']('message_do_not_modify') }}

{%- set master = salt['pillar.get']('salt:master', False) %}
{%- if master %}
master: {{ master }}
{%- else %}{# master-less #}
file_roots:
  base:
    - /srv/salt/states
pillar_roots:
  base:
    - /srv/salt/pillar
{%- endif %}
id: {{ grains['id'] }}

{%- if salt['pillar.get']('shinken_pollers', []) %}
mine_functions:
  monitoring.data: []
{%- endif %}

{%- set sentry_dsn = salt['pillar.get']('sentry_dsn', False) %}
{%- if sentry_dsn %}
sentry_common: {{ sentry_dsn }}
sentry_handler:
  dsn: requests+{{ sentry_dsn }}
{%- endif %}
